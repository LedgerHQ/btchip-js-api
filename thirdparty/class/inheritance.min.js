/*
  Class, version 2.7
  Copyright (c) 2006, 2007, 2008, Alex Arnell <alex@twologic.com>
  Licensed under the new BSD License. See end of file for full license terms.
*/var Class=function(){var a={};return{extend:function(b,c){arguments.length==1&&(c=b,b=null);var d=function(){if(arguments[0]==a)return;this.initialize.apply(this,arguments)};typeof b=="function"&&(d.prototype=new b(a));var e=[];c&&c.include&&(c.include.reverse?e=e.concat(c.include.reverse()):e.push(c.include),delete c.include),c&&Class.inherit(d.prototype,c);for(var f=0;mixin=e[f];f++)Class.mixin(d.prototype,mixin);return d},mixin:function(a,b,c){c=c||!1;if(typeof b!="undefined"&&b!==null)for(var d in b)if(c||!a[d]&&typeof b[d]=="function")a[d]=b[d];return a},inherit:function(a,b,c){if(arguments.length==3){var d=a[c],e=b[c],f=e;e=function(){var a=this.parent;this.parent=d;var b=f.apply(this,arguments);return a?this.parent=a:delete this.parent,b},e.valueOf=function(){return f},e.toString=function(){return f.toString()},a[c]=e}else for(var g in b)a[g]&&typeof b[g]=="function"?Class.inherit(a,b,g):a[g]=b[g];return a},singleton:function(){var b=arguments;if(b.length==2&&b[0].getInstance){var c=b[0].getInstance(a);c&&(b[0]=c)}return function(b){var c=!1,d=Class.extend.apply(b.callee,b);return{getInstance:function(){return arguments[0]==a?d:c?c:c=new d}}}(b)}}}();Class.create=function(){return Class.extend.apply(this,arguments)};